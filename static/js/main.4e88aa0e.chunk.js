(this.webpackJsonppos=this.webpackJsonppos||[]).push([[0],{116:function(e,t,c){},138:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(13),r=c.n(n),s=c(9),i=c(8),o=(c(116),c(46)),l=c(12),j=c(22),b=[],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGESTER_DATA":return[].concat(Object(j.a)(e),[Object(l.a)({},t.payload)]);case"CLEAR":return b;default:return Object(j.a)(e)}},u={},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_PROFILE":return Object(l.a)({},t.payload);case"CLEAR":return u;default:return e}},O=[],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CUSTOMER":return[].concat(Object(j.a)(e),[Object(l.a)({},t.payload)]);case"GET_CUSTOMERS":return Object(j.a)(t.payload);case"REMOVE_CUSTOMER":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_CUSTOMER":return e.map((function(e){return e._id===t.payload._id?Object(l.a)(Object(l.a)({},e),t.payload):Object(l.a)({},e)}));default:return Object(j.a)(e)}},p=[],m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCTS":return[].concat(Object(j.a)(e),[Object(l.a)({},t.payload)]);case"GET_PRODUCTS":return Object(j.a)(t.payload);case"REMOVE_PRODUCT":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_PRODUCT":return e.map((function(e){return e._id===t.payload._id?Object(l.a)(Object(l.a)({},e),t.payload):Object(l.a)({},e)}));default:return Object(j.a)(e)}},g=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BILLS":return[].concat(Object(j.a)(e),[Object(l.a)({},t.payload)]);case"GET_BILLS":return Object(j.a)(t.payload);case"REMOVE_BILL":return e.filter((function(e){return e._id!==t.payload}));case"EDIT_BILL":return e.map((function(e){return e.id===t.payload._id?Object(l.a)(Object(l.a)({},e),t.payload):Object(l.a)({},e)}));default:return Object(j.a)(e)}},v=c(84),y=function(){return Object(o.d)(Object(o.c)({userRegistrationData:d,userProfile:h,customers:x,products:m,bills:f}),Object(o.a)(v.a))},S=c(7),C=c(18),k=c(15),A=c.n(k),I=c(20),E=c.n(I),L=function(e){return{type:"REGESTER_DATA",payload:e}},T=function(e){return{type:"USER_PROFILE",payload:e}},_=function(e){return{type:"ADD_CUSTOMER",payload:e}},D=function(){return function(e){A.a.get("https://dct-billing-app.herokuapp.com/api/customers",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){var c=t.data;Object.keys(c).includes("errors")?console.log(c.message):(console.log(c),e(P(c)))})).catch((function(e){console.log(e.message)}))}},P=function(e){return{type:"GET_CUSTOMERS",payload:e}},R=function(e){return{type:"ADD_PRODUCTS",payload:e}},w=function(e){return{type:"GET_PRODUCTS",payload:e}},B=function(e){return{type:"ADD_BILLS",payload:e}},U=function(){return function(e){A.a.get("https://dct-billing-app.herokuapp.com/api/bills",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){var c=t.data;e(W(c))})).catch((function(e){console.log(e.message)}))}},W=function(e){return{type:"GET_BILLS",payload:e}},M=function(e){return{type:"REMOVE_CUSTOMER",payload:e}},z=function(e){return{type:"REMOVE_PRODUCT",payload:e}},N=function(e){return{type:"REMOVE_BILL",payload:e}},q=function(e){return{type:"EDIT_CUSTOMER",payload:e}},G=function(e){return{type:"EDIT_PRODUCT",payload:e}},F=function(e){return{type:"EDIT_BILL",payload:e}},V=c(171),Q=c(175),H=c(63),J=c(1),K=function(e){return Object(J.jsx)(V.a,{children:Object(J.jsx)("center",{children:Object(J.jsx)(Q.a,{style:{position:"relative",top:100},children:Object(J.jsx)(H.a,{color:"inherit",variant:"h2",children:"Welcome to BILLit"})})})})},X=c(140),Y=c(184),Z=c(183),$=c(177),ee=c(60),te=c.n(ee),ce=function(e){var t=Object(i.b)(),c=Object(a.useState)(""),n=Object(S.a)(c,2),r=n[0],o=n[1],l=Object(a.useState)(""),j=Object(S.a)(l,2),b=j[0],d=j[1],u=Object(a.useState)(""),h=Object(S.a)(u,2),O=h[0],x=h[1],p=Object(a.useState)(""),m=Object(S.a)(p,2),g=m[0],f=m[1],v=Object(a.useState)(""),y=Object(S.a)(v,2),C=y[0],k=y[1],I=Object(a.useState)({}),T=Object(S.a)(I,2),_=T[0],D=T[1],P={};return Object(J.jsx)(V.a,{children:Object(J.jsx)("center",{children:Object(J.jsx)("form",{onSubmit:function(c){(c.preventDefault(),0===r.trim().length?P.username="name cannot be blank":r.trim().length<6&&(P.username="name must contain atleast 6 charactors"),0===b.trim().length&&(P.userEmail="email cannot be blank"),0===O.trim().length&&(P.userPassword="password cannot be blank"),O.trim().lenght<6&&(P.userPassword="password must contain atleast 6 charactors"),0===g.trim().length&&(P.userBusinessName="bussiness cannot be blank"),0===C.trimEnd().length&&(P.userAddress="address cannot be blank"),0===Object.keys(P).length)?(D({}),t(function(e,t){return function(c){A.a.post("https://dct-billing-app.herokuapp.com/api/users/register",e).then((function(e){var a=e.data;a.hasOwnProperty("errors")?E()("error",a.message):(E()("successfully registered"),console.log(a),c(L(a)),t("/userLogin"))})).catch((function(e){console.log("catch Error",e.meaasge)}))}}({username:r,email:b,password:O,businessName:g,address:C},e.history.push))):D(P);o(""),d(""),x(""),f(""),k("")},style:{position:"relative",top:15},children:Object(J.jsx)(Q.a,{children:Object(J.jsxs)(X.a,{elevation:10,style:{padding:20,height:"95vh",width:280,margin:"20, auto"},children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(Y.a,{style:{color:"green"},children:Object(J.jsx)(te.a,{})}),Object(J.jsx)("h1",{children:"Register"})]}),Object(J.jsx)(Z.a,{label:"user name",value:r,onChange:function(e){o(e.target.value)},placeholder:"user name",fullWidth:!0}),_.username&&Object(J.jsx)("span",{style:{color:"red"},children:_.username}),Object(J.jsx)(Z.a,{label:"email",type:"email",value:b,onChange:function(e){d(e.target.value)},placeholder:"email",fullWidth:!0}),_.userEmail&&Object(J.jsx)("span",{style:{color:"red"},children:_.userEmail}),Object(J.jsx)(Z.a,{label:"password",type:"password",value:O,onChange:function(e){x(e.target.value)},placeholder:"password",fullWidth:!0}),_.userPassword&&Object(J.jsx)("span",{style:{color:"red"},children:_.userPassword}),Object(J.jsx)(Z.a,{label:"business",type:"text",value:g,onChange:function(e){f(e.target.value)},placeholder:"business name",fullWidth:!0}),_.userBusinessName&&Object(J.jsx)("span",{style:{color:"red"},children:_.userBusinessName}),Object(J.jsx)(Z.a,{label:"address",type:"text",value:C,onChange:function(e){k(e.target.value)},placeholder:"address",multiline:!0,fullWidth:!0}),_.userAddress&&Object(J.jsx)("span",{style:{color:"red"},children:_.userAddress}),Object(J.jsx)($.a,{type:"submit",color:"primary",variant:"contained",style:{position:"relative",top:10},fullWidth:!0,children:"Register"}),Object(J.jsxs)(H.a,{style:{position:"relative",top:20},children:["Already a user?",Object(J.jsx)(s.b,{to:"/userLogin",children:"Login"})]})]})})})})})},ae=c(89),ne=c.n(ae),re=function(e){var t=Object(a.useState)(""),c=Object(S.a)(t,2),n=c[0],r=c[1],i=Object(a.useState)(""),o=Object(S.a)(i,2),l=o[0],j=o[1],b=Object(a.useState)({}),d=Object(S.a)(b,2),u=d[0],h=d[1],O={};return Object(J.jsx)(V.a,{children:Object(J.jsx)("center",{children:Object(J.jsx)("form",{onSubmit:function(t){if(t.preventDefault(),0===n.trim().length&&(O.email="email is required"),0===l.trim().length&&(O.password="password is required"),0===Object.keys(O).length){h({});var c={email:n,password:l};A.a.post("http://dct-billing-app.herokuapp.com/api/users/login",c).then((function(t){var c=t.data;Object.keys(c).includes("errors")?alert(c.message):(E()("successfully Logged-in"),localStorage.setItem("token",c.token),e.history.push("/userDashboard"),e.handleLoggedIn())})).catch((function(e){console.log("catch error",e.message)}))}else h(O);r(""),j("")},style:{position:"relative",top:15},children:Object(J.jsx)(Q.a,{children:Object(J.jsxs)(X.a,{elevation:10,style:{padding:20,height:"70vh",width:280,margin:"20, auto"},children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(Y.a,{style:{backgroundColor:"green"},children:Object(J.jsx)(ne.a,{})}),Object(J.jsx)("h1",{children:"Login"})]}),Object(J.jsx)(Z.a,{value:n,onChange:function(e){r(e.target.value)},label:"email",type:"email",placeholder:"email",fullWidth:!0,required:!0}),u.email&&Object(J.jsx)("span",{children:u.email}),Object(J.jsx)(Z.a,{value:l,onChange:function(e){j(e.target.value)},label:"password",placeholder:"password",type:"password",fullWidth:!0,required:!0}),u.password&&Object(J.jsx)("span",{children:u.email}),Object(J.jsx)($.a,{type:"submit",color:"primary",variant:"contained",style:{position:"relative",top:10},fullWidth:!0,children:"Login"}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("p",{children:"If you don't have an account!"}),Object(J.jsx)(s.b,{to:"/userRegister",children:"Register"})]})]})})})})})},se=function(e){var t=Object(i.b)(),c=Object(i.c)((function(e){return e.userProfile}));return Object(a.useEffect)((function(){t((function(e){A.a.get("https://dct-billing-app.herokuapp.com/api/users/account",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){var c=t.data;e(T(c))})).catch((function(e){E()(e.message)}))}))}),[]),Object(J.jsx)(V.a,{children:Object(J.jsxs)(Q.a,{children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)("hr",{}),Object(J.jsx)(H.a,{variant:"h4",children:"User Profile"}),Object(J.jsx)("hr",{}),c?Object(J.jsxs)(Q.a,{xs:12,sm:6,children:[Object(J.jsxs)(H.a,{children:[Object(J.jsx)("strong",{children:"User Name: "}),c.username]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("strong",{children:"User Id: "}),c._id]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("strong",{children:"Email: "}),c.email]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("strong",{children:"Business Name: "}),c.businessName]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("strong",{children:"Address: "}),c.address]})]}):Object(J.jsx)(Q.a,{children:Object(J.jsx)("p",{children:"Loading User Profile Data"})})]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(Q.a,{xs:12,sm:6,children:[Object(J.jsx)(s.b,{to:"/customers",children:"Add Customer"}),Object(J.jsx)("b",{children:" | "}),Object(J.jsx)(s.b,{to:"/products",children:"Add Product"}),Object(J.jsx)("b",{children:" | "}),Object(J.jsx)(s.b,{to:"/bills",children:"Add Bills"})]})]})})},ie=c(90),oe=function(e){var t=Object(i.c)((function(e){return e.customers.length}));console.log("customer length",t);var c=Object(i.c)((function(e){return e.products.length}));console.log("products length",c);var a=Object(i.c)((function(e){return e.bills.length}));return console.log("bills length",a),Object(J.jsx)(V.a,{children:Object(J.jsx)(Q.a,{children:Object(J.jsx)(ie.a,{width:"500px",height:"300px",chartType:"PieChart",loader:Object(J.jsx)("div",{children:"Loading Chart"}),data:[["Title","Progress"],["Customer's",t],["Product's",c],["Order's",a]],options:{title:"Sales Progress"},rootProps:{"data-testid":"1"}})})})},le=function(e){var t=Object(i.b)(),c=Object(i.c)((function(e){return e.customers}));console.log(c);var n=Object(i.c)((function(e){return e.bills}));Object(a.useEffect)((function(){t(D()),t(U())}),[t]);var r=c.slice(Math.max(c.length-5,0)),s=n.slice(Math.max(n.length-5,0));return console.log(s),Object(J.jsxs)(V.a,{children:[Object(J.jsx)(H.a,{variant:"h2",style:{textAlign:"center"},children:"Dashboard"}),Object(J.jsxs)(Q.a,{style:{position:"relative",top:30},container:!0,children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(H.a,{variant:"h4",children:"Last Five Customers"}),Object(J.jsx)("ol",{children:r.map((function(e){return Object(J.jsx)("li",{children:Object(J.jsx)(H.a,{children:e.name},e._id)})}))})]}),Object(J.jsx)(Q.a,{children:Object(J.jsx)(Q.a,{children:Object(J.jsx)(oe,{})})})]}),Object(J.jsxs)(Q.a,{style:{position:"relative",top:40},children:[Object(J.jsx)(H.a,{variant:"h4",children:"Last 5 Bill's"}),Object(J.jsx)(Q.a,{container:!0,children:s.map((function(e){return Object(J.jsx)(Q.a,{style:{position:"relative",padding:7},children:Object(J.jsxs)(X.a,{style:{position:"relative",padding:7,top:5},children:[Object(J.jsxs)(H.a,{children:["User: ",e.user]}),Object(J.jsxs)(H.a,{children:["date: ",e.date]}),Object(J.jsxs)(H.a,{children:["Customer: ",e.customer]}),Object(J.jsxs)(H.a,{children:["Order Details: ",e.lineItems.map((function(e){return Object(J.jsxs)(H.a,{children:["Product: ",e.product," ",Object(J.jsx)("br",{})," Quantity: ",e.quantity," ",Object(J.jsx)("br",{})," Sub Total: ",e.subTotal]},e._id)}))]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:["Total: ",e.total]}),Object(J.jsx)("hr",{})]})},e._id)}))})]})]})},je=c(50),be=c.n(je),de=function(e){var t=e.id,c=e.name,n=e.number,r=e.email,s=(e.user,e.createdAt,e.updatedAt,e.handleToggle);console.log("ame",c);var o=Object(i.b)(),l=Object(a.useState)(c||""),j=Object(S.a)(l,2),b=j[0],d=j[1],u=Object(a.useState)(n||""),h=Object(S.a)(u,2),O=h[0],x=h[1],p=Object(a.useState)(r||""),m=Object(S.a)(p,2),g=m[0],f=m[1];return Object(J.jsx)(V.a,{children:Object(J.jsx)("center",{children:Object(J.jsx)(Q.a,{style:{position:"relative",top:20},children:Object(J.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={name:b,mobile:Number(O),email:g};s?(console.log(c),o(function(e,t){return function(c){A.a.put("https://dct-billing-app.herokuapp.com/api/customers/".concat(t),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;console.log("editData",t),c(q(t))})).catch((function(e){E()(e.message)}))}}(c,t)),s()):o(function(e){return function(t){A.a.post("https://dct-billing-app.herokuapp.com/api/customers",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var c=e.data;console.log("result from api",c),E()("successfully created a customer",c),t(_(c))})).catch((function(e){console.log(e.message)}))}}(c)),d(""),x(""),f("")},children:Object(J.jsxs)(X.a,{style:{padding:20},children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(Y.a,{style:{backgroundColor:"green"},children:Object(J.jsx)(be.a,{})}),c?Object(J.jsx)("h2",{children:"Edit Form"}):Object(J.jsx)("h1",{children:"Add a customer"})]}),Object(J.jsx)(Z.a,{label:"Customer Name",type:"text",value:b,onChange:function(e){d(e.target.value)},placeholder:"customer name",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)(Z.a,{label:"Phone Number",type:"number",value:O,onChange:function(e){x(e.target.value)},placeholder:"phone number",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)(Z.a,{label:"Email",type:"email",value:g,onChange:function(e){f(e.target.value)},placeholder:"email",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)($.a,{type:"submit",value:"Add",color:"primary",variant:"contained",style:{position:"relative",top:10},children:"Add"})]})})})})})},ue=function(e){var t=e.id,c=e.name,a=e.mobile,n=e.email,r=e.user,s=e.createdAt,i=e.updatedAt,o=e.handleToggle;return Object(J.jsx)("div",{children:Object(J.jsx)(de,{id:t,name:c,number:a,email:n,user:r,createdAt:s,updatedAt:i,handleToggle:o})})},he=c(176),Oe=c(178),xe=c(179),pe=c(61),me=c.n(pe),ge=c(44),fe=c.n(ge),ve=function(e){var t=e._id,c=e.name,n=e.mobile,r=e.email,o=e.user,l=e.createdAt,j=e.updatedAt;console.log(t);var b=Object(a.useState)(!1),d=Object(S.a)(b,2),u=d[0],h=d[1],O=Object(i.b)(),x=function(){h(!u)};return Object(J.jsx)(V.a,{children:u?Object(J.jsxs)(Q.a,{style:{position:"relative",bottom:"40px"},children:[Object(J.jsx)(ue,{id:t,name:c,mobile:n,email:r,user:o,createdAt:l,updatedAt:j,handleToggle:x}),Object(J.jsx)($.a,{style:{position:"relative",left:"30px",top:"40px"},onClick:x,children:"cancle"})]}):Object(J.jsx)(Q.a,{children:Object(J.jsx)(X.a,{children:Object(J.jsx)(he.a,{children:Object(J.jsx)(Oe.a,{children:Object(J.jsxs)(xe.a,{children:[Object(J.jsx)(s.b,{style:{marginRight:"20px"},to:"/customers/".concat(t),children:Object(J.jsx)(H.a,{style:{textAlign:"center"},variant:"h5",children:c})}),Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"relative",top:"5px"},children:[Object(J.jsxs)("div",{children:[" ",Object(J.jsx)(Y.a,{style:{backgroundColor:"red",marginRight:"10px"},onClick:function(){var e;O((e=t,function(t){A.a.delete("https://dct-billing-app.herokuapp.com/api/customers/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(c){var a=c.data;E()("".concat(a.name," has removed successfully")),t(M(e))})).catch((function(e){E()(e.message)}))}))},children:Object(J.jsx)(fe.a,{})})]}),Object(J.jsx)("div",{children:Object(J.jsx)(Y.a,{style:{backgroundColor:"green",marginRight:"10px"},onClick:x,children:Object(J.jsx)(me.a,{})})})]})]})})})})})})},ye=function(e){var t=Object(a.useState)(""),c=Object(S.a)(t,2),n=c[0],r=c[1],s=Object(i.c)((function(e){return e.customers}));console.log("customerList",s);n.length>0&&(s=s.filter((function(e){return e.name.toLocaleLowerCase().match(n.toLocaleLowerCase())})));return Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{xs:12,sm:6,children:Object(J.jsx)("input",{style:{height:35,width:300},label:"search",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"search by name"})}),Object(J.jsx)(Q.a,{style:{position:"relative",top:10},children:s.map((function(e){return Object(J.jsx)(ve,Object(l.a)({},e),e._id)}))})]})},Se=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(D())}),[e]),Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{xs:12,sm:6,style:{position:"relative",top:20},children:Object(J.jsx)(H.a,{variant:"h4",children:"Customer's"})}),Object(J.jsxs)(Q.a,{container:!0,directions:"row",children:[Object(J.jsx)(Q.a,{xs:12,sm:6,children:Object(J.jsx)(de,{})}),Object(J.jsx)(Q.a,{style:{position:"relative",top:30,textAlign:"center"},xs:12,sm:6,children:Object(J.jsx)(ye,{})})]})]})},Ce=function(e){var t=e.match.params.id;console.log(t);var c=Object(a.useState)({}),n=Object(S.a)(c,2),r=n[0],i=n[1];return console.log(r),Object(a.useEffect)((function(){A.a.get("https://dct-billing-app.herokuapp.com/api/customers/".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;console.log("result",t),i(t)})).catch((function(e){console.log(e.message)}))}),[t]),Object(J.jsx)(V.a,{children:Object(J.jsx)(Q.a,{container:!0,children:Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(H.a,{variant:"h4",children:"Customer-Details"}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"User:"})," ",r.user]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Name:"})," ",r.name]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Mobile:"})," ",r.mobile]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"email:"})," ",r.email]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Customer-Id:"})," ",r._id]}),Object(J.jsx)("hr",{}),Object(J.jsx)(s.b,{to:"/userProfile",children:"back to profile"}),Object(J.jsx)("b",{children:" | "}),Object(J.jsx)(s.b,{to:"/customers",children:"customers"})]})})})},ke=function(e){var t=e.id,c=e.name,n=e.price,r=e.handleToggle,s=Object(i.b)(),o=Object(a.useState)(c||""),l=Object(S.a)(o,2),j=l[0],b=l[1],d=Object(a.useState)(n||""),u=Object(S.a)(d,2),h=u[0],O=u[1];return Object(J.jsx)(V.a,{children:Object(J.jsx)("center",{children:Object(J.jsx)(Q.a,{style:{position:"relative",top:35},children:Object(J.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={name:j,price:h};r?(s(function(e,t){return function(c){A.a.put("https://dct-billing-app.herokuapp.com/api/products/".concat(t),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;c(G(t))})).catch((function(e){E()(e.message)}))}}(c,t)),r()):s(function(e){return function(t){A.a.post("https://dct-billing-app.herokuapp.com/api/products",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var c=e.data;E()("".concat(c.name," successfully added")),t(R(c))})).catch((function(e){console.log(e.message)}))}}(c)),b(""),O("")},children:Object(J.jsxs)(X.a,{style:{padding:20},children:[Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(Y.a,{style:{backgroundColor:"green"},children:Object(J.jsx)(be.a,{})}),c?Object(J.jsx)("h2",{children:"Edit Product"}):Object(J.jsx)("h1",{children:"Add a product"})]}),Object(J.jsx)(Z.a,{label:"Product Name",type:"text",value:j,onChange:function(e){b(e.target.value)},placeholder:"Product name",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)(Z.a,{label:"Price",type:"number",value:h,onChange:function(e){O(e.target.value)},placeholder:"Price",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)($.a,{type:"submit",value:"Add",color:"primary",variant:"contained",style:{position:"relative",top:10},children:"Add"})]})})})})})},Ae=function(e){var t=e.id,c=e.name,a=e.price,n=e.handleToggle;return Object(J.jsx)("div",{children:Object(J.jsx)(ke,{id:t,name:c,price:a,handleToggle:n})})},Ie=function(e){var t=Object(i.b)(),c=e._id,n=e.name,r=e.price,o=(e.user,e.createdAt,e.updatedAT,Object(a.useState)(!1)),l=Object(S.a)(o,2),j=l[0],b=l[1],d=function(){b(!j)};return Object(J.jsx)(V.a,{children:j?Object(J.jsx)(Q.a,{children:Object(J.jsxs)(X.a,{children:[Object(J.jsx)(Ae,{id:c,name:n,price:r,handleToggle:d}),Object(J.jsx)("button",{onClick:d,children:"cancle"})]})}):Object(J.jsx)(Q.a,{children:Object(J.jsx)(X.a,{children:Object(J.jsx)(he.a,{children:Object(J.jsx)(Oe.a,{children:Object(J.jsxs)(xe.a,{style:{textAlign:"center"},children:[Object(J.jsx)(s.b,{to:"/products/".concat(c),children:Object(J.jsx)(H.a,{variant:"h5",children:n})})," ",Object(J.jsx)("br",{}),Object(J.jsxs)(Q.a,{style:{display:"flex",flexDirection:"row",position:"relative",top:"5px"},children:[Object(J.jsxs)(Q.a,{children:[" ",Object(J.jsx)(Y.a,{style:{backgroundColor:"red",marginRight:"10px"},onClick:function(){var e;t((e=c,function(t){A.a.delete("https://dct-billing-app.herokuapp.com/api/products/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(c){var a=c.data;E()("".concat(a.name," has removed successfully")),t(z(e))})).catch((function(e){E()(e.message)}))}))},children:Object(J.jsx)(fe.a,{})})]}),Object(J.jsx)(Q.a,{children:Object(J.jsx)(Y.a,{style:{backgroundColor:"green",marginRight:"10px"},onClick:d,children:Object(J.jsx)(me.a,{})})})]})]})})})})})})},Ee=function(e){var t=Object(a.useState)(""),c=Object(S.a)(t,2),n=c[0],r=c[1],s=Object(i.c)((function(e){return e.products}));console.log("products",s);n.length>0&&(s=s.filter((function(e){return e.name.toLocaleLowerCase().match(n.toLocaleLowerCase())})));return Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{style:{position:"relative",top:40},xs:12,sm:6,children:Object(J.jsx)("input",{style:{height:35,width:300},label:"search",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"search by name"})}),Object(J.jsx)(Q.a,{style:{position:"relative",top:45},children:s.map((function(e){return Object(J.jsx)(Ie,Object(l.a)({},e),e._id)}))})]})},Le=function(e){var t=Object(i.b)();return Object(a.useEffect)((function(){t((function(e){A.a.get("https://dct-billing-app.herokuapp.com/api/products",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(t){var c=t.data;e(w(c))})).catch((function(e){console.log(e.message)}))}))}),[t]),Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{style:{position:"relative",top:20},xs:12,sm:6,children:Object(J.jsx)(H.a,{variant:"h4",children:"Product's"})}),Object(J.jsxs)(Q.a,{container:!0,directions:"row",children:[Object(J.jsx)(Q.a,{xs:12,sm:6,children:Object(J.jsx)(ke,{})}),Object(J.jsx)(Q.a,{xs:12,sm:6,children:Object(J.jsx)(Ee,{})})]})]})},Te=function(e){var t=e.match.params.id,c=Object(a.useState)({}),n=Object(S.a)(c,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){A.a.get("https://dct-billing-app.herokuapp.com/api/products/".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;i(t)})).catch((function(e){alert(e.message)}))}),[t]),Object(J.jsx)(V.a,{children:Object(J.jsxs)(Q.a,{children:[Object(J.jsx)("hr",{}),Object(J.jsx)(H.a,{variant:"h4",children:"Unique Product"}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"User:"})," ",r.user]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Name:"})," ",r.name]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Price:"})," ",r.price]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Product-Id:"})," ",r._id]}),Object(J.jsx)("hr",{}),Object(J.jsx)(s.b,{to:"/userProfile",children:"back to profile"})," ",Object(J.jsx)("b",{children:"| "}),Object(J.jsx)(s.b,{to:"/products",children:"products"})]})})},_e=c(92),De=c.n(_e),Pe=function(e){var t=e._id,c=e.date,n=e.customer,r=(e.lineItems,e.user,e.createdAt,e.updatedAt,e.total,e.handleToggle),s=Object(i.b)(),o=Object(a.useState)(c||""),l=Object(S.a)(o,2),j=l[0],b=l[1],d=Object(a.useState)(n||""),u=Object(S.a)(d,2),h=u[0],O=u[1],x=Object(a.useState)(""),p=Object(S.a)(x,2),m=p[0],g=p[1],f=Object(a.useState)(0),v=Object(S.a)(f,2),y=v[0],C=v[1];return Object(J.jsx)(V.a,{children:Object(J.jsx)(Q.a,{style:{position:"relative",top:35},children:Object(J.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={date:j,customer:h,lineItems:[{product:m,quantity:y}]};r?(s(function(e,t){return function(c){A.a.delete("https://dct-billing-app.herokuapp.com/api/bills/".concat(t),e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;c(F(t))})).catch((function(e){E()(e.message)}))}}(c,t)),r()):s(function(e){return function(t){A.a.post("https://dct-billing-app.herokuapp.com/api/bills",e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var c=e.data;t(B(c))})).catch((function(e){console.log(e.message)}))}}(c)),b(""),O(""),g(""),C("")},children:Object(J.jsxs)(X.a,{style:{padding:20},children:[Object(J.jsxs)(Q.a,{style:{textAlign:"center"},children:[Object(J.jsx)(Y.a,{style:{backgroundColor:"green"},children:Object(J.jsx)(De.a,{})}),c?Object(J.jsx)(H.a,{variant:"h4",children:"Edit Bill"}):Object(J.jsx)(H.a,{variant:"h4",children:"Add a Bill"})]}),Object(J.jsxs)(Q.a,{children:[Object(J.jsx)(Z.a,{type:"date",value:j,onChange:function(e){b(e.target.value)},placeholder:"date",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)(Z.a,{label:"Customer",type:"text",value:h,onChange:function(e){O(e.target.value)},placeholder:"customer",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)(Z.a,{label:"Product",type:"text",value:m,onChange:function(e){g(e.target.value)},placeholder:"product",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)(Z.a,{label:"Quantity",type:"number",value:y,onChange:function(e){C(e.target.value)},placeholder:"quantity",fullWidth:!0}),Object(J.jsx)("br",{}),Object(J.jsx)($.a,{type:"submit",value:"Add",color:"primary",variant:"contained",style:{position:"relative",top:10},children:"Add"})]})]})})})})},Re=function(e){var t=e.id,c=e.date,a=e.customer,n=e.lineItems,r=e.user,s=e.total,i=e.handleToggle;return Object(J.jsx)("div",{children:Object(J.jsx)(Pe,{id:t,date:c,customer:a,lineItems:n,user:r,total:s,handleToggle:i})})},we=c(93),Be=c(94),Ue=c.n(Be),We=function(e){var t=e.match.params.id;console.log(t);var c=Object(a.useState)({}),n=Object(S.a)(c,2),r=n[0],i=n[1],o=Object(a.useState)([]),l=Object(S.a)(o,2),j=l[0],b=l[1],d=Object(a.useState)(""),u=Object(S.a)(d,2),h=u[0],O=u[1],x=Object(a.useState)(""),p=Object(S.a)(x,2),m=p[0],g=p[1],f=Object(a.useState)(""),v=Object(S.a)(f,2),y=v[0],C=v[1],k=Object(a.useState)(""),I=Object(S.a)(k,2),E=I[0],L=I[1];console.log("typeof Date",typeof r.date),Object(a.useEffect)((function(){A.a.get("https://dct-billing-app.herokuapp.com/api/bills/".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;console.log("result",t),i(t),b(t.lineItems),t.lineItems.map((function(e){O(e.product),g(e.quantity),C(e.price),L(e.subTotal)}))})).catch((function(e){console.log(e.message)}))}),[t]);return Object(J.jsx)(V.a,{children:Object(J.jsxs)(Q.a,{children:[Object(J.jsx)("hr",{}),Object(J.jsx)(H.a,{variant:"h4",children:"Bill-Details"}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"User:"})," ",r.user]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Customer_id:"})," ",r.customer]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Date:"})," ",r.date]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Order Details: "}),j.map((function(e){return Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Product:"})," ",e.product,Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Quantity:"})," ",e.quantity,Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Sub-Total:"})," ",e.subTotal]},e._id)}))]}),Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Total:"})," ",r.total]}),Object(J.jsx)("hr",{}),Object(J.jsxs)(Q.a,{container:!0,children:[Object(J.jsx)(Q.a,{children:Object(J.jsx)(s.b,{to:"/userProfile",children:Object(J.jsxs)("h3",{children:[Object(J.jsx)("b",{children:" ||"}),"back to profile",Object(J.jsx)("b",{children:" | "})]})})}),Object(J.jsx)(Q.a,{children:Object(J.jsx)(s.b,{to:"/bills",children:Object(J.jsxs)("h3",{children:[Object(J.jsx)("b",{children:" | "}),"bills",Object(J.jsx)("b",{children:" ||"})]})})}),Object(J.jsx)($.a,{style:{left:4},startIcon:Object(J.jsx)(Ue.a,{}),variant:"small",onClick:function(){var e=new we.a("p","pt");e.text(280,20,"Bill"),e.setFont("helvetica"),e.text(20,60,"Customer_id: ".concat(r.customer)),e.setFont("helvetica"),e.text(20,80,"Date: ".concat(r.date.slice(0,10))),e.text(20,100,"Order Details: \n                        Product_Id: ".concat(h,"\n                        Quantity: ").concat(m,"\n                        Price: ").concat(y,"\n                        Sub-Total: ").concat(E)),e.text(20,200,"Total: ".concat(r.total)),e.save("bill.pdf")},children:"Pdf"})]})]})})},Me=c(180),ze=c(181),Ne=c(95),qe=c.n(Ne),Ge=function(e){var t=e._id,c=e.date,n=e.customer,r=e.lineItems,o=e.user,l=(e.createdAt,e.updatedAt,e.total),j=Object(i.b)(),b=Object(a.useState)(!1),d=Object(S.a)(b,2),u=d[0],h=d[1],O={position:"relative",top:"10px",left:"10px"};return Object(J.jsx)(V.a,{children:Object(J.jsx)(Q.a,{children:u?Object(J.jsx)(Q.a,{item:!0,sm:4,children:Object(J.jsx)(Me.a,{children:Object(J.jsx)(ze.a,{children:Object(J.jsx)(H.a,{children:Object(J.jsx)(Re,{id:t,date:c,customer:n,lineItems:r,user:o,total:l,handleToggle:function(){h(!u)}})})})})}):Object(J.jsx)(Q.a,{children:Object(J.jsx)(Me.a,{children:Object(J.jsxs)(ze.a,{children:[Object(J.jsxs)(H.a,{style:O,variant:"h6",children:[Object(J.jsx)("b",{children:"Customer: "}),n]}),Object(J.jsxs)(H.a,{style:O,children:[Object(J.jsx)("b",{children:"Date:"}),c]}),Object(J.jsxs)(H.a,{style:O,children:[Object(J.jsx)("b",{children:"Order Details: "}),r.map((function(e){return Object(J.jsxs)(H.a,{children:[Object(J.jsx)("b",{children:"Product:"})," ",e.product,Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Quantity:"})," ",e.quantity,Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Sub-Total:"})," ",e.subTotal]},e._id)}))]}),Object(J.jsxs)(H.a,{style:O,children:[Object(J.jsx)("b",{children:"Total:"})," ",l]}),Object(J.jsxs)(Q.a,{style:O,container:!0,direction:"row",children:[Object(J.jsx)(Q.a,{item:!0,lg:1,style:{position:"relative",left:10},children:Object(J.jsx)(Y.a,{style:{backgroundColor:"red",marginRight:"10px",position:"relative",top:"5px"},onClick:function(){var e;j((e=t,function(t){A.a.delete("https://dct-billing-app.herokuapp.com/api/bills/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(c){c.data,E()("bill has removed successfully"),t(N(e))})).catch((function(e){E()(e.message)}))}))},children:Object(J.jsx)(fe.a,{})})}),Object(J.jsx)(Q.a,{style:{paddingLeft:20,position:"relative",top:5},item:!0,lg:1,children:Object(J.jsx)(Y.a,{style:{backgroundColor:"blue"},component:s.b,to:"/bills/".concat(t),children:Object(J.jsx)(qe.a,{})})})]})]})})})})})},Fe=function(e){var t=Object(a.useState)(""),c=Object(S.a)(t,2),n=c[0],r=c[1],s=Object(i.c)((function(e){return e.bills}));console.log(s);n.length>0&&(s=s.filter((function(e){return e.customer.toLocaleLowerCase().match(n.toLocaleLowerCase())})));return Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{style:{position:"relative",top:30},xs:12,sm:6,children:Object(J.jsx)("input",{style:{height:35,width:300},label:"search",type:"text",value:n,onChange:function(e){r(e.target.value)},placeholder:"search by customer_Id"})}),Object(J.jsx)(Q.a,{style:{position:"relative",top:40},children:Object(J.jsx)(Q.a,{children:s.map((function(e){return Object(J.jsx)(Ge,Object(l.a)({},e),e._id)}))})})]})},Ve=function(e){var t=Object(i.b)();return Object(a.useEffect)((function(){t(U())}),[t]),Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{style:{position:"relative",top:20},xs:12,sm:6,children:Object(J.jsx)(H.a,{variant:"h4",children:"Bill's"})}),Object(J.jsxs)(Q.a,{container:!0,directions:"row",children:[Object(J.jsx)(Q.a,{xs:12,sm:6,children:Object(J.jsx)(Pe,{})}),Object(J.jsx)(Q.a,{style:{position:"relative",top:20},xs:12,sm:6,children:Object(J.jsx)(Fe,{})})]})]})},Qe=c(70),He=c.n(Qe),Je=c(97),Ke=c.n(Je),Xe=c(96),Ye=c.n(Xe),Ze=c(98),$e=c.n(Ze),et=c(99),tt=c.n(et),ct=Object(C.e)((function(e){var t=e.loggedIn,c=e.handleLoggedIn,a=e.history,n=Object(i.b)(),r={position:"relative",left:20};return Object(J.jsxs)(Q.a,{children:[t?Object(J.jsx)(V.a,{disableGutters:!0,children:Object(J.jsx)(Q.a,{children:Object(J.jsxs)(X.a,{children:[Object(J.jsx)(Q.a,{item:!0,lg:2,children:Object(J.jsx)(H.a,{style:{color:"blue"},variant:"h2",children:"BILLit"})}),Object(J.jsxs)(Q.a,{container:!0,direction:"row",children:[Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)(He.a,{}),component:s.b,to:"/",children:"Home"})}),Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)(Ye.a,{}),component:s.b,to:"/userDashboard",children:"Dashboard"})}),Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)(Ke.a,{}),component:s.b,to:"/userProfile",children:"Profile"})}),Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)($e.a,{}),component:s.b,to:"/",onClick:function(){n({type:"CLEAR"}),localStorage.removeItem("token"),E()("you are successfully logged out "),c(),a.push("/userLogin")},children:"Logout"})})]})]})})}):Object(J.jsxs)(V.a,{children:[Object(J.jsx)(Q.a,{item:!0,lg:2,children:Object(J.jsx)(H.a,{variant:"h2",style:{color:"blue"},children:"BILLit"})}),Object(J.jsxs)(Q.a,{container:!0,direction:"row",children:[Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)(He.a,{}),component:s.b,to:"/",children:"Home"})}),Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)(te.a,{}),component:s.b,to:"/userRegister",children:"Register"})}),Object(J.jsx)(Q.a,{item:!0,lg:2,style:r,children:Object(J.jsx)($.a,{startIcon:Object(J.jsx)(tt.a,{}),component:s.b,to:"/userLogin",children:"Login"})})]})]}),Object(J.jsx)(C.a,{path:"/",component:K,exact:!0}),Object(J.jsx)(C.a,{path:"/userRegister",component:ce}),Object(J.jsx)(C.a,{path:"/userLogin",render:function(e){return Object(J.jsx)(re,Object(l.a)(Object(l.a)({},e),{},{handleLoggedIn:c}))}}),Object(J.jsx)(C.a,{path:"/userDashboard",component:le}),Object(J.jsx)(C.a,{path:"/userProfile",component:se,exact:!0}),Object(J.jsx)(C.a,{path:"/customers",component:Se,exact:!0}),Object(J.jsx)(C.a,{path:"/customers/:id",component:Ce}),Object(J.jsx)(C.a,{path:"/products",component:Le,exact:!0}),Object(J.jsx)(C.a,{path:"/products/:id",component:Te}),Object(J.jsx)(C.a,{path:"/bills",component:Ve,exact:!0}),Object(J.jsx)(C.a,{path:"/bills/:id",component:We})]})})),at=c(182),nt=function(e){var t=Object(a.useState)(!1),c=Object(S.a)(t,2),n=c[0],r=c[1],s=function(){r(!n)};return Object(a.useEffect)((function(){localStorage.getItem("token")&&s()}),[]),Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(at.a,{}),Object(J.jsx)(ct,{loggedIn:n,handleLoggedIn:s})]})},rt=y();console.log(rt.getState()),rt.subscribe((function(){console.log("updated store",rt.getState())})),r.a.render(Object(J.jsx)(i.a,{store:rt,children:Object(J.jsx)(s.a,{children:Object(J.jsx)(V.a,{disableGutters:!0,children:Object(J.jsx)(nt,{})})})}),document.getElementById("root"))}},[[138,1,3]]]);
//# sourceMappingURL=main.4e88aa0e.chunk.js.map